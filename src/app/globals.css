
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: 'Inter', Arial, Helvetica, sans-serif;
}

@layer base {
  :root {
    --background: 0 0% 96.1%; /* Light gray #F5F5F5 */
    --foreground: 240 10% 3.9%; /* Darker for contrast on light gray */

    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;

    --primary: 231 48% 48%; /* Deep Indigo #3F51B5 */
    --primary-foreground: 0 0% 98%; /* Light text on Deep Indigo */

    --secondary: 0 0% 92%; /* Slightly darker gray for secondary elements */
    --secondary-foreground: 240 10% 3.9%;

    --muted: 0 0% 90%; /* Muted gray */
    --muted-foreground: 240 5% 40%; /* Muted text */

    --accent: 174 100% 29%; /* Teal #009688 */
    --accent-foreground: 0 0% 98%; /* Light text on Teal */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 231 48% 48%; /* Primary color for rings */

    --chart-1: 231 48% 48%;
    --chart-2: 174 100% 29%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;

    /* Header specific colors (based on primary) */
    --header-background: var(--primary);
    --header-foreground: var(--primary-foreground);
    --header-border: 231 40% 40%;     /* Darker shade of primary for border */

    /* Sidebar specific colors (based on primary) */
    --sidebar-background: var(--primary);
    --sidebar-foreground: var(--primary-foreground);
    --sidebar-primary: 231 55% 40%;  /* Darker shade of primary for active item background */
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: 231 50% 55%; /* Lighter shade of primary for hover background */
    --sidebar-accent-foreground: var(--primary-foreground);
    --sidebar-border: 231 40% 35%; /* Darker shade of primary for border */
    --sidebar-ring: var(--primary);
  }

  .dark {
    --background: 0 0% 10%; /* #1A1A1A */
    --foreground: 0 0% 98%;

    --card: 240 4% 12%; /* Dark gray, slightly lighter than background #1E1E24 */
    --card-foreground: 0 0% 98%; /* Light text for dark cards */
    
    --popover: 240 4% 12%; /* Consistent with card background */
    --popover-foreground: 0 0% 98%; /* Light text for dark popovers */

    --primary: 231 48% 55%; /* Adjusted Indigo for dark mode */
    --primary-foreground: 0 0% 98%;

    --secondary: 240 4% 12%; /* Consistent with card background */
    --secondary-foreground: 0 0% 98%;

    --muted: 240 4% 12%; /* Consistent with card background */
    --muted-foreground: 240 5% 64%; /* Muted text, slightly less bright */

    --accent: 174 100% 35%; /* Adjusted Teal for dark mode */
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 240 3.7% 15.9%; /* Standard dark theme border #27272A */
    --input: 240 3.7% 15.9%;  /* Standard dark theme input bg #27272A */
    --ring: 231 48% 55%; /* Adjusted primary for dark mode rings */

    --chart-1: 231 48% 55%;
    --chart-2: 174 100% 35%;
    /* ... other dark theme chart colors ... */

    /* Header specific colors for dark theme (based on primary dark) */
    --header-background: var(--primary); /* Uses the dark theme primary */
    --header-foreground: var(--primary-foreground);
    --header-border: 231 40% 40%;     /* Darker shade of primary for border */

    /* Sidebar specific colors for dark theme (based on primary dark) */
    --sidebar-background: var(--primary); /* Uses the dark theme primary */
    --sidebar-foreground: var(--primary-foreground);
    --sidebar-primary: 231 55% 40%;  /* Darker shade of primary for active item background */
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: 231 50% 55%; /* Lighter shade of primary for hover background */
    --sidebar-accent-foreground: var(--primary-foreground);
    --sidebar-border: 231 40% 35%; /* Darker shade of primary for border */
    --sidebar-ring: var(--primary);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .perspective {
    perspective: 1000px;
  }

  .flip-card {
    @apply relative inline-flex flex-col shadow-md rounded-md bg-card text-card-foreground font-mono overflow-hidden;
    width: 6rem; /* Adjust as needed for two large digits */
    height: 7rem; /* Adjust as needed */
    font-size: 3.5rem; /* Larger digits */
    line-height: 1;
    transform-style: preserve-3d;
  }

  .flip-card-static-top,
  .flip-card-static-bottom,
  .flip-card-flap {
    @apply absolute left-0 w-full h-1/2 overflow-hidden flex items-center justify-center;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
  
  .flip-card-static-top span,
  .flip-card-static-bottom span,
  .flip-card-flap span {
     @apply block; /* Ensure span takes full width for centering */
  }

  .flip-card-static-top {
    @apply top-0 items-end pb-px; /* Align text to bottom of this half */
    border-bottom: 1px solid hsl(var(--border) / 0.5);
  }
  .flip-card-static-top span {
    transform: translateY(50%);
  }

  .flip-card-static-bottom {
    @apply bottom-0 items-start pt-px; /* Align text to top of this half */
  }
  .flip-card-static-bottom span {
    transform: translateY(-50%);
  }

  .flip-card-flap {
    @apply bg-card; /* Match card background */
    z-index: 1;
  }
  
  .flip-card-top-flap {
    @apply top-0 items-end pb-px;
    transform-origin: bottom;
    border-bottom: 1px solid hsl(var(--border) / 0.5);
    z-index: 20; /* Ensure it's on top during flip */
  }
  .flip-card-top-flap span {
    transform: translateY(50%);
  }

  .flip-card-bottom-flap {
    @apply bottom-0 items-start pt-px;
    transform-origin: top;
    transform: rotateX(90deg); /* Start flipped, invisible */
    z-index: 10;
  }
  .flip-card-bottom-flap span {
    transform: translateY(-50%);
  }

  .animate-flip-top {
    animation: flip-top 0.6s ease-in-out forwards;
  }

  .animate-flip-bottom {
    animation: flip-bottom 0.6s ease-in-out 0.6s forwards; 
    /* Start this animation when the top one finishes if they were two separate elements forming one face.
       With current structure, they are separate faces, so the delay might be half the total duration.
       Or, for simultaneous reveal, remove delay and adjust keyframes.
       Let's try a slight delay to ensure top flap clears.
    */
     animation-delay: 0.28s; /* Slightly less than half of 0.6s */
  }

  @keyframes flip-top {
    0% {
      transform: rotateX(0deg);
    }
    100% {
      transform: rotateX(-90deg);
    }
  }

  @keyframes flip-bottom {
    0% {
      transform: rotateX(90deg); /* Start from underneath */
    }
    100% {
      transform: rotateX(0deg);
    }
  }
}
